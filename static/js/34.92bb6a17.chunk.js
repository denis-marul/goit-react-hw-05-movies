"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[34],{34:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),o=n(791),a=n(87);var s="Movies_MoviesForm__v+0mN",u="Movies_MoviesInput__D3qNZ",c="Movies_MoviesButton__ZpeA1",i=n(184),l=(0,o.lazy)((function(){return n.e(246).then(n.bind(n,246))})),f=function(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),n=t[0],f=t[1],h=(0,o.useState)([]),d=(0,r.Z)(h,2),v=d[0],m=d[1],p=(0,o.useState)(!1),_=(0,r.Z)(p,2),b=_[0],j=_[1],g=(0,a.lr)(),k=(0,r.Z)(g,2),x=k[0],S=k[1],y=x.get("query");return(0,o.useEffect)((function(){if(null===y)return j(!1),void m([]);(function(e){return fetch("".concat("https://api.themoviedb.org/3/").concat("search/movie","?query=").concat(e,"&include_adult=false&language=en-US&page=1&api_key=").concat("4acb178a3b7e23750170cd51a9ede7a5")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No results has been found."))}))})(y).then((function(e){m(e.results),j(!1),0===e.results.length&&j(!0)}))}),[y]),(0,i.jsxs)("div",{className:s,children:[(0,i.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===n.trim())return alert("Please fill in the form."),void j(!1);S({query:n}),f("")},children:[(0,i.jsx)("input",{className:u,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:n,onChange:function(e){var t=e.currentTarget.value;f(t.toLowerCase())}}),(0,i.jsx)("button",{className:c,type:"submit",children:"Search"})]}),b&&(0,i.jsx)("h1",{children:"Ups.. We found no resolts."}),(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)("p",{children:"Loading..."}),children:(0,i.jsx)(l,{movies:v})})]})}}}]);
//# sourceMappingURL=34.92bb6a17.chunk.js.map